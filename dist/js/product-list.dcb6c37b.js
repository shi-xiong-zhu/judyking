"use strict";(self["webpackChunkmyapp"]=self["webpackChunkmyapp"]||[]).push([[921],{7956:function(t,e,i){i.r(e),i.d(e,{default:function(){return h}});var a=function(){var t=this,e=t._self._c;return e("div",[e("van-nav-bar",{attrs:{"left-arrow":"",fixed:""},on:{"click-left":function(e){return t.$router.back()}},scopedSlots:t._u([{key:"right",fn:function(){return[e("van-search",{on:{search:t.handlerSearch},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}}),e("van-icon",{attrs:{name:"ellipsis"}})]},proxy:!0}])}),e("van-tabs",{attrs:{color:"#08d9d6",type:"card"},on:{click:t.handlerEle},model:{value:t.action,callback:function(e){t.action=e},expression:"action"}},t._l(t.tabs,(function(t){return e("van-tab",{key:t.text,attrs:{title:t.text}})})),1),e("van-list",{attrs:{finished:t.finished,"finished-text":"触碰我的底线了","immediate-check":!1},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.list,(function(t){return e("van-cell",{key:t.goodsId},[e("van-card",{attrs:{price:t.sellingPrice,desc:t.goodsIntro,title:t.goodsName,thumb:t.goodsCoverImg}})],1)})),1)],1)},n=[],s=i(9547),o={name:"App",created(){(0,s.DE)(this.pageNumber++,this.$route.query.goodsCategoryId,this.value,this.orderBy).then((t=>{this.list=t.data.list,console.log(t)}))},components:{},data(){return{value:"",pageNumber:1,action:0,list:[],loading:!1,finished:!1,orderBy:"",tabs:[{text:"推荐",orderBy:"recommend"},{text:"新品",orderBy:"new"},{text:"价格",orderBy:"price"}]}},methods:{handlerSearch(t){""===t&&(this.finished=!0,this.loading=!1),this.pageNumber=1,this.onLoad()},onLoad(){""===this.value?(this.finished=!0,this.loading=!1):(this.finished=!1,(0,s.sZ)(this.pageNumber++,this.value,this.orderBy).then((t=>{0==t.data.list.length&&(this.finished=!0),this.list=this.list.concat(t.data.list),console.log(this.list),this.loading=!1})))}},watch:{action:{handler:function(t){this.orderBy=this.tabs[t].orderBy,this.pageNumber=1,this.list=[],this.finished=!1,this.onLoad()},immediate:!0}}},r=o,l=i(1001),d=(0,l.Z)(r,a,n,!1,null,"69fa903e",null),h=d.exports}}]);
//# sourceMappingURL=product-list.dcb6c37b.js.map