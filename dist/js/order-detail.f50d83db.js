"use strict";(self["webpackChunkmyapp"]=self["webpackChunkmyapp"]||[]).push([[386],{7202:function(e,r,t){t.r(r),t.d(r,{default:function(){return u}});var o=function(){var e=this,r=e._self._c;return r("div",[r("van-nav-bar",{attrs:{fixed:"",title:"订单详情","left-arrow":""},on:{"click-left":function(r){return e.$router.back()}},scopedSlots:e._u([{key:"right",fn:function(){return[r("van-icon",{attrs:{name:"ellipsis",size:"18"}})]},proxy:!0}])}),r("div",{staticClass:"orderDetail"},[r("div",{staticClass:"Detail"},[r("p",[e._v("订单状态："+e._s(e.orderDetail.orderStatusString))]),r("p",[e._v("订单编号："+e._s(e.orderDetail.orderNo))]),r("p",[e._v("下单时间："+e._s(e.orderDetail.createTime))]),r("br"),r("div",{directives:[{name:"show",rawName:"v-show",value:e.isOk,expression:"isOk"}]},[r("van-button",{attrs:{color:"#08d9d6"},on:{click:function(r){return e.handlerOrder(e.payState)}}},[e._v(e._s(e.payState))]),r("van-button",{on:{click:e.handlreCancel}},[e._v("取消订单")])],1)]),r("div",{staticClass:"disc"},[r("p",[e._v("商品金额：￥"+e._s(e.orderDetail.totalPrice))]),r("p",[e._v("配送方式：普通快递")])])]),e._l(e.orderDetail.newBeeMallOrderItemVOS,(function(e){return r("van-swipe-cell",{key:e.goodsId},[r("van-card",{staticClass:"goods-card",attrs:{num:e.goodsCount,price:e.sellingPrice,desc:"描述信息",title:e.goodsName,thumb:e.goodsCoverImg}})],1)})),r("van-action-sheet",{attrs:{actions:e.actions},on:{select:e.onSelect},model:{value:e.show,callback:function(r){e.show=r},expression:"show"}})],2)},a=[],s=t(9547),i={name:"Orderinfo",mounted(){(0,s.cW)(this.$route.query.orderNumber).then((e=>{console.log(e.data),this.orderDetail=e.data,this.orderNumber=this.$route.query.orderNumber,"交易成功"!=e.data.orderStatusString&&"手动关闭"!=e.data.orderStatusString||(this.isOk=!1)}))},components:{},data(){return{show:!1,actions:[{name:"支付宝付款"},{name:"微信付款"}],orderNumber:"",orderDetail:[],isOk:!0}},methods:{handlreCancel(){(0,s.sl)(this.$route.query.orderNumber).then((e=>{console.log(e),(0,s.cW)(this.$route.query.orderNumber).then((e=>{this.orderDetail=e.data}))}))},onSelect(e){console.log(e),"支付宝付款"===e.name&&(0,s.gY)(this.orderNumber,1).then((e=>{this.show=!1,(0,s.cW)(this.$route.query.orderNumber).then((e=>{this.orderDetail=e.data}))})),"微信付款"===e.name&&(0,s.SG)(this.orderNumber,2).then((e=>{console.log(e),this.show=!1,(0,s.cW)(this.$route.query.orderNumber).then((e=>{this.orderDetail=e.data}))}))},handlerOrder(e){if("去支付"===e)this.show=!0;else{if("确认收货"!==e)return;(0,s.Me)(this.$route.query.orderNumber).then((e=>{console.log(e)})),(0,s.cW)(this.$route.query.orderNumber).then((e=>{this.orderDetail=e.data,this.isOk=!1}))}}},computed:{payState(){return"待支付"==this.orderDetail.orderStatusString?"去支付":"确认收货"}}},n=i,d=t(1001),l=(0,d.Z)(n,o,a,!1,null,"469961a9",null),u=l.exports}}]);
//# sourceMappingURL=order-detail.f50d83db.js.map