{"version":3,"file":"js/info.ece8d3f7.js","mappings":"sJAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACA,EAAG,cAAc,CAACE,MAAM,CAAC,MAAQ,OAAO,aAAa,GAAG,MAAQ,IAAIC,GAAG,CAAC,aAAa,SAASC,GAAQ,OAAON,EAAIO,QAAQC,MAAO,GAAEC,YAAYT,EAAIU,GAAG,CAAC,CAACC,IAAI,QAAQC,GAAG,WAAW,MAAO,CAACV,EAAG,WAAW,CAACE,MAAM,CAAC,KAAO,cAAe,EAACS,OAAM,OAAUX,EAAG,MAAM,CAACY,YAAY,aAAa,CAACZ,EAAG,MAAM,CAACa,YAAY,CAAC,MAAQ,QAAQX,MAAM,CAAC,IAAMJ,EAAIgB,KAAKC,cAAc,IAAM,MAAMf,EAAG,KAAK,CAACF,EAAIkB,GAAG,IAAIlB,EAAImB,GAAGnB,EAAIgB,KAAKI,WAAW,OAAOlB,EAAG,IAAI,CAACF,EAAIkB,GAAGlB,EAAImB,GAAGnB,EAAIgB,KAAKK,eAAenB,EAAG,OAAO,CAACF,EAAIkB,GAAG,OAAOlB,EAAImB,GAAGnB,EAAIgB,KAAKM,eAAe,MAAMtB,EAAImB,GAAGnB,EAAIgB,KAAKO,iBAAiBrB,EAAG,MAAM,CAACsB,SAAS,CAAC,UAAYxB,EAAImB,GAAGnB,EAAIgB,KAAKS,yBAAyBvB,EAAG,mBAAmB,CAACA,EAAG,wBAAwB,CAACE,MAAM,CAAC,KAAO,SAAS,KAAO,QAAQF,EAAG,wBAAwB,CAACE,MAAM,CAAC,KAAO,SAAS,KAAO,OAAOC,GAAG,CAAC,MAAQL,EAAI0B,aAAaxB,EAAG,YAAY,CAACyB,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASC,MAAO9B,EAAI+B,OAAOC,QAAQC,QAASC,WAAW,2BAA2B9B,MAAM,CAAC,MAAQ,UAAU,QAAUJ,EAAI+B,OAAOC,QAAQC,WAAW/B,EAAG,0BAA0B,CAACE,MAAM,CAAC,MAAQ,UAAU,KAAO,UAAU,KAAO,SAASC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAON,EAAImC,KAAM,KAAIjC,EAAG,0BAA0B,CAACE,MAAM,CAAC,MAAQ,UAAU,KAAO,SAAS,KAAO,WAAW,IAAI,EAC3yC,EACGgC,EAAkB,G,8BC4BtB,GACAR,KAAAA,OACAS,UACA,eACA,4CACAC,QAAAA,IAAAA,KAAAA,KACA,EACAC,OACA,OACAvB,KAAAA,CAAAA,EACAwB,MAAAA,EAEA,EACAC,QAAAA,CAEAf,YACA,2BAAAgB,OAAAA,CAAA1B,KAAAA,KAAAA,OACA,EAEA2B,WACAC,EAAAA,EAAAA,IAAAA,KAAAA,OAAAA,OAAAA,WAAAA,MAAAA,IAEA,mBAEA,EAEAT,MACA,YACA,cACAU,EAAAA,EAAAA,IAAAA,CACAC,QAAAA,KAAAA,QAAAA,QAAAA,UACAC,WAAAA,IACAC,MAAAT,IAEA,mBACA,aACA,oBAEA,6CAEA,iBACA,IAGA,IC1E6P,I,UCQzPU,GAAY,OACd,EACAlD,EACAqC,GACA,EACA,KACA,WACA,MAIF,EAAea,EAAiB,O","sources":["webpack://myapp/./src/views/Info/Info.vue","webpack://myapp/src/views/Info/Info.vue","webpack://myapp/./src/views/Info/Info.vue?5822","webpack://myapp/./src/views/Info/Info.vue?4bdf"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('van-nav-bar',{attrs:{\"title\":\"商品详情\",\"left-arrow\":\"\",\"fixed\":\"\"},on:{\"click-left\":function($event){return _vm.$router.back()}},scopedSlots:_vm._u([{key:\"right\",fn:function(){return [_c('van-icon',{attrs:{\"name\":\"ellipsis\"}})]},proxy:true}])}),_c('div',{staticClass:\"goodsDisc\"},[_c('img',{staticStyle:{\"width\":\"100%\"},attrs:{\"src\":_vm.info.goodsCoverImg,\"alt\":\"\"}}),_c('h3',[_vm._v(\" \"+_vm._s(_vm.info.goodsName)+\" \")]),_c('p',[_vm._v(_vm._s(_vm.info.goodsIntro))]),_c('span',[_vm._v(\"原始价格\"+_vm._s(_vm.info.originalPrice)+\";现价\"+_vm._s(_vm.info.sellingPrice))]),_c('div',{domProps:{\"innerHTML\":_vm._s(_vm.info.goodsDetailContent)}})]),_c('van-goods-action',[_c('van-goods-action-icon',{attrs:{\"icon\":\"chat-o\",\"text\":\"客服\"}}),_c('van-goods-action-icon',{attrs:{\"icon\":\"cart-o\",\"text\":\"购物车\"},on:{\"click\":_vm.goodsCart}}),_c('van-badge',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.$store.getters.cartNum),expression:\"$store.getters.cartNum\"}],attrs:{\"color\":\"#08d9d6\",\"content\":_vm.$store.getters.cartNum}}),_c('van-goods-action-button',{attrs:{\"color\":\"#0dc3c3\",\"type\":\"warning\",\"text\":\"加入购物车\"},on:{\"click\":function($event){return _vm.add()}}}),_c('van-goods-action-button',{attrs:{\"color\":\"#098888\",\"type\":\"danger\",\"text\":\"立即购买\"}})],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n        <van-nav-bar title=\"商品详情\" left-arrow @click-left=\"$router.back()\" fixed>\r\n            <template #right>\r\n                <van-icon name=\"ellipsis\" />\r\n            </template>\r\n        </van-nav-bar>\r\n        <div class=\"goodsDisc\">\r\n            <img style=\"width: 100%\" :src=\"info.goodsCoverImg\" alt=\"\" />\r\n            <h3>\r\n                {{ info.goodsName }}\r\n            </h3>\r\n            <p>{{ info.goodsIntro }}</p>\r\n            <span>原始价格{{ info.originalPrice }};现价{{ info.sellingPrice }}</span>\r\n            <!-- 解析HTML字符串 -->\r\n            <div v-html=\"info.goodsDetailContent\"></div>\r\n        </div>\r\n        <van-goods-action>\r\n            <van-goods-action-icon icon=\"chat-o\" text=\"客服\" />\r\n            <van-goods-action-icon icon=\"cart-o\" text=\"购物车\" @click=\"goodsCart\" />\r\n            <van-badge color=\"#08d9d6\" :content=\"$store.getters.cartNum\" v-show=\"$store.getters.cartNum\" />\r\n            <van-goods-action-button color=\"#0dc3c3\" type=\"warning\" text=\"加入购物车\" @click=\"add()\" />\r\n            <van-goods-action-button color=\"#098888\" type=\"danger\" text=\"立即购买\" />\r\n        </van-goods-action>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { getInfoData, addCart } from \"../../api/index\";\r\nimport { Toast } from 'vant';\r\nexport default {\r\n    name: \"Info\",\r\n    created() {\r\n        this.getData();\r\n        this.$store.dispatch(\"changeCartListAsync\"); //进来就获取购物车的数据\r\n        console.log(this.info);\r\n    },\r\n    data() {\r\n        return {\r\n            info: {},\r\n            flag: true,\r\n        };\r\n    },\r\n    methods: {\r\n        //跳转到购物车\r\n        goodsCart() {\r\n            this.$router.push(\"/cart\", { params: { info: this.info } })\r\n        },\r\n        //发请求拿商品详情\r\n        getData() {\r\n            getInfoData(this.$route.params.productId).then((data) => {\r\n                // console.log(data);\r\n                this.info = data.data;\r\n            })\r\n        },\r\n        //添加到购物车\r\n        add() {\r\n            if (!this.flag) return;\r\n            this.flag = false;\r\n            addCart({\r\n                goodsId: this.$route?.params?.productId,\r\n                goodsCount: 1,\r\n            }).then((data) => {\r\n                // this.flag = true;\r\n                if (data.resultCode == 200) {\r\n                    this.flag = true;\r\n                    Toast.success(\"添加成功\");\r\n                    //dispatch一个actions\r\n                    this.$store.dispatch(\"changeCartListAsync\");\r\n                } else {\r\n                    Toast.fail(\"商品已存在\");\r\n                }\r\n            });\r\n\r\n        }\r\n    },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n/deep/.van-goods-action-icon {\r\n    position: relative;\r\n}\r\n.van-badge {\r\n    position: absolute;\r\n    top: 0;\r\n    left: 2rem;\r\n}\r\n.goodsDisc {\r\n    margin-top: 1.3333rem;\r\n\r\n    h3 {\r\n        font-size: .48rem;\r\n        text-align: left;\r\n        color: #333;\r\n        text-align: justify\r\n    }\r\n    p {\r\n        font-size: .37333rem;\r\n        text-align: left;\r\n        color: #999;\r\n        padding: .13333rem 0;\r\n    }\r\n    span {\r\n        color: #f63515;\r\n        font-size: .58667rem;\r\n        font-size: .32rem;\r\n    }\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Info.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Info.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Info.vue?vue&type=template&id=743a1ffc&scoped=true&\"\nimport script from \"./Info.vue?vue&type=script&lang=js&\"\nexport * from \"./Info.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Info.vue?vue&type=style&index=0&id=743a1ffc&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"743a1ffc\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","attrs","on","$event","$router","back","scopedSlots","_u","key","fn","proxy","staticClass","staticStyle","info","goodsCoverImg","_v","_s","goodsName","goodsIntro","originalPrice","sellingPrice","domProps","goodsDetailContent","goodsCart","directives","name","rawName","value","$store","getters","cartNum","expression","add","staticRenderFns","created","console","data","flag","methods","params","getData","getInfoData","addCart","goodsId","goodsCount","then","component"],"sourceRoot":""}