{"version":3,"file":"js/order-detail.f50d83db.js","mappings":"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","sources":["webpack://myapp/./src/views/Info/OrderInfo.vue","webpack://myapp/src/views/Info/OrderInfo.vue","webpack://myapp/./src/views/Info/OrderInfo.vue?2bf7","webpack://myapp/./src/views/Info/OrderInfo.vue?d208"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('van-nav-bar',{attrs:{\"fixed\":\"\",\"title\":\"订单详情\",\"left-arrow\":\"\"},on:{\"click-left\":function($event){return _vm.$router.back()}},scopedSlots:_vm._u([{key:\"right\",fn:function(){return [_c('van-icon',{attrs:{\"name\":\"ellipsis\",\"size\":\"18\"}})]},proxy:true}])}),_c('div',{staticClass:\"orderDetail\"},[_c('div',{staticClass:\"Detail\"},[_c('p',[_vm._v(\"订单状态：\"+_vm._s(_vm.orderDetail.orderStatusString))]),_c('p',[_vm._v(\"订单编号：\"+_vm._s(_vm.orderDetail.orderNo))]),_c('p',[_vm._v(\"下单时间：\"+_vm._s(_vm.orderDetail.createTime))]),_c('br'),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isOk),expression:\"isOk\"}]},[_c('van-button',{attrs:{\"color\":\"#08d9d6\"},on:{\"click\":function($event){return _vm.handlerOrder(_vm.payState)}}},[_vm._v(_vm._s(_vm.payState))]),_c('van-button',{on:{\"click\":_vm.handlreCancel}},[_vm._v(\"取消订单\")])],1)]),_c('div',{staticClass:\"disc\"},[_c('p',[_vm._v(\"商品金额：￥\"+_vm._s(_vm.orderDetail.totalPrice))]),_c('p',[_vm._v(\"配送方式：普通快递\")])])]),_vm._l((_vm.orderDetail.newBeeMallOrderItemVOS),function(item){return _c('van-swipe-cell',{key:item.goodsId},[_c('van-card',{staticClass:\"goods-card\",attrs:{\"num\":item.goodsCount,\"price\":item.sellingPrice,\"desc\":\"描述信息\",\"title\":item.goodsName,\"thumb\":item.goodsCoverImg}})],1)}),_c('van-action-sheet',{attrs:{\"actions\":_vm.actions},on:{\"select\":_vm.onSelect},model:{value:(_vm.show),callback:function ($$v) {_vm.show=$$v},expression:\"show\"}})],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <van-nav-bar fixed title=\"订单详情\" left-arrow @click-left=\"$router.back()\">\r\n      <template #right>\r\n        <van-icon name=\"ellipsis\" size=\"18\" />\r\n      </template>\r\n    </van-nav-bar>\r\n    <div class=\"orderDetail\">\r\n      <div class=\"Detail\">\r\n        <p>订单状态：{{ orderDetail.orderStatusString }}</p>\r\n        <p>订单编号：{{ orderDetail.orderNo }}</p>\r\n        <p>下单时间：{{ orderDetail.createTime }}</p>\r\n        <br>\r\n        <div v-show=\"isOk\">\r\n          <van-button color=\"#08d9d6\" @click=\"handlerOrder(payState)\">{{ payState }}</van-button>\r\n          <van-button @click=\"handlreCancel\">取消订单</van-button>\r\n        </div>\r\n      </div>\r\n      <div class=\"disc\">\r\n        <p>商品金额：￥{{ orderDetail.totalPrice }}</p>\r\n        <p>配送方式：普通快递</p>\r\n      </div>\r\n    </div>\r\n    <van-swipe-cell v-for='item in orderDetail.newBeeMallOrderItemVOS' :key='item.goodsId'>\r\n      <van-card :num=\"item.goodsCount\" :price=\"item.sellingPrice\" desc=\"描述信息\" :title=\"item.goodsName\" class=\"goods-card\"\r\n        :thumb=\"item.goodsCoverImg\" />\r\n    </van-swipe-cell>\r\n\r\n    <van-action-sheet v-model=\"show\" :actions=\"actions\" @select=\"onSelect\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { orderDetails, confirmReceipt, zfbpay, wxpay, cancelOrder } from \"../../api/index.js\";\r\nexport default {\r\n  name: 'Orderinfo',\r\n  mounted() {\r\n    orderDetails(this.$route.query.orderNumber).then((data) => {\r\n      console.log(data.data)\r\n      this.orderDetail = data.data\r\n      this.orderNumber = this.$route.query.orderNumber\r\n      if (data.data.orderStatusString == \"交易成功\" || data.data.orderStatusString == \"手动关闭\") {\r\n        this.isOk = false;\r\n      }\r\n    })\r\n  },\r\n  components: {\r\n  },\r\n  data() {\r\n    return {\r\n      show: false,\r\n      actions: [{ name: '支付宝付款' }, { name: '微信付款' }],\r\n      orderNumber: \"\",//订单号\r\n      orderDetail: [],//订单详情\r\n      isOk: true,\r\n    }\r\n  },\r\n  methods: {\r\n    //取消订单 \r\n    handlreCancel() {\r\n      cancelOrder(this.$route.query.orderNumber).then((data) => {\r\n        console.log(data);\r\n        orderDetails(this.$route.query.orderNumber).then((data) => {\r\n          this.orderDetail = data.data\r\n        })\r\n      })\r\n    },\r\n    //去支付\r\n    onSelect(item) {\r\n      console.log(item)\r\n      if (item.name === \"支付宝付款\") {\r\n        zfbpay(this.orderNumber, 1).then(data => {\r\n          this.show = false;\r\n          //支付后订单详情\r\n          orderDetails(this.$route.query.orderNumber).then((data) => {\r\n            this.orderDetail = data.data\r\n\r\n          })\r\n        })\r\n      }\r\n      if (item.name === \"微信付款\") {\r\n        wxpay(this.orderNumber, 2).then(data => {\r\n          console.log(data);\r\n          this.show = false;\r\n          //支付后订单详情\r\n          orderDetails(this.$route.query.orderNumber).then((data) => {\r\n            this.orderDetail = data.data\r\n\r\n          })\r\n        })\r\n      }\r\n    },\r\n    handlerOrder(val) {\r\n      if (val === \"去支付\") {\r\n        this.show = true;\r\n      } else if (val === \"确认收货\") {\r\n        confirmReceipt(this.$route.query.orderNumber).then((data) => {\r\n          console.log(data)\r\n        })\r\n        //收货后订单详情\r\n        orderDetails(this.$route.query.orderNumber).then((data) => {\r\n          // console.log(data.data)\r\n          this.orderDetail = data.data\r\n          this.isOk = false;\r\n\r\n          // this.orderNumber = this.$route.query.orderNumber\r\n        })\r\n      } else {\r\n        return\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    payState() {\r\n      return this.orderDetail.orderStatusString == \"待支付\" ? \"去支付\" : \"确认收货\"\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n.orderDetail {\r\n  margin-top: 1.8rem;\r\n  font-size: .4rem;\r\n  margin-left: .8rem;\r\n\r\n  .disc {\r\n    margin-top: 1rem;\r\n  }\r\n}\r\n\r\n/deep/.van-button {\r\n  width: 90%;\r\n  margin: 0 auto;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./OrderInfo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./OrderInfo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OrderInfo.vue?vue&type=template&id=469961a9&scoped=true&\"\nimport script from \"./OrderInfo.vue?vue&type=script&lang=js&\"\nexport * from \"./OrderInfo.vue?vue&type=script&lang=js&\"\nimport style0 from \"./OrderInfo.vue?vue&type=style&index=0&id=469961a9&prod&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"469961a9\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","attrs","on","$event","$router","back","scopedSlots","_u","key","fn","proxy","staticClass","_v","_s","orderDetail","orderStatusString","orderNo","createTime","directives","name","rawName","value","isOk","expression","handlerOrder","payState","handlreCancel","totalPrice","_l","newBeeMallOrderItemVOS","item","goodsId","goodsCount","sellingPrice","goodsName","goodsCoverImg","actions","onSelect","model","show","callback","$$v","staticRenderFns","mounted","orderDetails","console","components","data","orderNumber","methods","cancelOrder","zfbpay","wxpay","confirmReceipt","computed","component"],"sourceRoot":""}