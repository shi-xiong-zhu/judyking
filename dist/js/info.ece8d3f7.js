"use strict";(self["webpackChunkmyapp"]=self["webpackChunkmyapp"]||[]).push([[996],{7788:function(t,o,s){s.r(o),s.d(o,{default:function(){return u}});var a=function(){var t=this,o=t._self._c;return o("div",[o("van-nav-bar",{attrs:{title:"商品详情","left-arrow":"",fixed:""},on:{"click-left":function(o){return t.$router.back()}},scopedSlots:t._u([{key:"right",fn:function(){return[o("van-icon",{attrs:{name:"ellipsis"}})]},proxy:!0}])}),o("div",{staticClass:"goodsDisc"},[o("img",{staticStyle:{width:"100%"},attrs:{src:t.info.goodsCoverImg,alt:""}}),o("h3",[t._v(" "+t._s(t.info.goodsName)+" ")]),o("p",[t._v(t._s(t.info.goodsIntro))]),o("span",[t._v("原始价格"+t._s(t.info.originalPrice)+";现价"+t._s(t.info.sellingPrice))]),o("div",{domProps:{innerHTML:t._s(t.info.goodsDetailContent)}})]),o("van-goods-action",[o("van-goods-action-icon",{attrs:{icon:"chat-o",text:"客服"}}),o("van-goods-action-icon",{attrs:{icon:"cart-o",text:"购物车"},on:{click:t.goodsCart}}),o("van-badge",{directives:[{name:"show",rawName:"v-show",value:t.$store.getters.cartNum,expression:"$store.getters.cartNum"}],attrs:{color:"#08d9d6",content:t.$store.getters.cartNum}}),o("van-goods-action-button",{attrs:{color:"#0dc3c3",type:"warning",text:"加入购物车"},on:{click:function(o){return t.add()}}}),o("van-goods-action-button",{attrs:{color:"#098888",type:"danger",text:"立即购买"}})],1)],1)},n=[],e=(s(6743),s(8848)),r=s(9547),i={name:"Info",created(){this.getData(),this.$store.dispatch("changeCartListAsync"),console.log(this.info)},data(){return{info:{},flag:!0}},methods:{goodsCart(){this.$router.push("/cart",{params:{info:this.info}})},getData(){(0,r.wx)(this.$route.params.productId).then((t=>{this.info=t.data}))},add(){this.flag&&(this.flag=!1,(0,r.Z5)({goodsId:this.$route?.params?.productId,goodsCount:1}).then((t=>{200==t.resultCode?(this.flag=!0,e.Z.success("添加成功"),this.$store.dispatch("changeCartListAsync")):e.Z.fail("商品已存在")})))}}},c=i,d=s(1001),l=(0,d.Z)(c,a,n,!1,null,"743a1ffc",null),u=l.exports}}]);
//# sourceMappingURL=info.ece8d3f7.js.map