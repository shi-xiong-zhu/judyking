{"version":3,"file":"js/Order.8b9af96d.js","mappings":"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","sources":["webpack://myapp/./src/views/Order/Order.vue","webpack://myapp/src/views/Order/Order.vue","webpack://myapp/./src/views/Order/Order.vue?33a1","webpack://myapp/./src/views/Order/Order.vue?9c5b"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"order-box\"},[_c('van-nav-bar',{attrs:{\"fixed\":\"\",\"title\":\"我的订单\",\"left-arrow\":\"\"},on:{\"click-left\":function($event){return _vm.$router.back()}},scopedSlots:_vm._u([{key:\"right\",fn:function(){return [_c('van-icon',{attrs:{\"name\":\"ellipsis\",\"size\":\"18\"}})]},proxy:true}])}),_c('van-tabs',{model:{value:(_vm.index),callback:function ($$v) {_vm.index=$$v},expression:\"index\"}},_vm._l((_vm.tabs),function(item){return _c('van-tab',{key:item.text,attrs:{\"title\":item.text}})}),1),_c('div',[_c('van-list',{attrs:{\"finished\":_vm.finished,\"finished-text\":\"没有更多了\",\"immediate-check\":false},on:{\"load\":_vm.onLoad},model:{value:(_vm.loading),callback:function ($$v) {_vm.loading=$$v},expression:\"loading\"}},_vm._l((_vm.list),function(item){return _c('van-cell',{key:item.orderId,on:{\"click\":function($event){return _vm.jump(item.orderNo)}},scopedSlots:_vm._u([{key:\"default\",fn:function(){return [_c('div',[_c('p',[_vm._v(\" 订单时间：\"+_vm._s(item.createTime)+\" ---- \"+_vm._s(item.orderStatusString)+\" \")]),_vm._l((item.newBeeMallOrderItemVOS),function(v){return _c('div',{key:v.goodsId},[_c('img',{staticStyle:{\"width\":\"180px\"},attrs:{\"src\":v.goodsCoverImg,\"alt\":\"\"}}),_c('p',[_vm._v(\"名称：\"+_vm._s(v.goodsName))]),_c('p',[_vm._v(\"单价：\"+_vm._s(v.sellingPrice))])])}),_c('p',{staticStyle:{\"color\":\"red\",\"font-size\":\".5rem\"}},[_vm._v(\"总价格：\"+_vm._s(item.totalPrice))])],2)]},proxy:true}],null,true)})}),1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"order-box\">\r\n        <van-nav-bar fixed title=\"我的订单\" left-arrow @click-left=\"$router.back()\">\r\n            <template #right>\r\n                <van-icon name=\"ellipsis\" size=\"18\" />\r\n            </template>\r\n        </van-nav-bar>\r\n\r\n        <van-tabs v-model=\"index\">\r\n            <van-tab v-for=\"item in tabs\" :key=\"item.text\" :title=\"item.text\">\r\n            </van-tab>\r\n        </van-tabs>\r\n\r\n        <div>\r\n            <van-list v-model=\"loading\" :finished=\"finished\" finished-text=\"没有更多了\" @load=\"onLoad\"\r\n                :immediate-check=\"false\">\r\n                <van-cell v-for=\"item in list\" :key=\"item.orderId\" @click=\"jump(item.orderNo)\">\r\n                    <template #default>\r\n                        <div>\r\n                            <p>\r\n                                订单时间：{{  item.createTime  }} ----\r\n                                {{  item.orderStatusString  }}\r\n                            </p>\r\n                            <div v-for=\"v in item.newBeeMallOrderItemVOS\" :key=\"v.goodsId\">\r\n                                <img style=\"width: 180px\" :src=\"v.goodsCoverImg\" alt=\"\" />\r\n                                <p>名称：{{  v.goodsName  }}</p>\r\n                                <p>单价：{{  v.sellingPrice  }}</p>\r\n                            </div>\r\n                            <p style=\"color:red; font-size:.5rem\" >总价格：{{  item.totalPrice  }}</p>\r\n                        </div>\r\n                    </template>\r\n                </van-cell>\r\n            </van-list>\r\n        </div>\r\n    </div>\r\n</template>\r\n  \r\n  <script>\r\nimport { getOrderList } from \"../../api/index.js\";\r\nexport default {\r\n    name: \"Order\",\r\n    mounted() {\r\n\r\n    },\r\n    data() {\r\n        return {\r\n            tabs: [\r\n                {\r\n                    text: \"全部\",\r\n                    status: \"\",\r\n                },\r\n                {\r\n                    text: \"待付款\",\r\n                    status: \"0\",\r\n                },\r\n                {\r\n                    text: \"待确认\",\r\n                    status: \"1\",\r\n                },\r\n\r\n                {\r\n                    text: \"代发货\",\r\n                    status: \"2\",\r\n                },\r\n                {\r\n                    text: \"已发货\",\r\n                    status: \"3\",\r\n                },\r\n                {\r\n                    text: \"交易完成\",\r\n                    status: \"4\",\r\n                },\r\n            ],\r\n            list: [],\r\n            loading: false,\r\n            finished: false,\r\n            pageNumber: 1,\r\n            status: \"\",\r\n            index: 0,\r\n        };\r\n    },\r\n    created() {\r\n        this.onLoad();\r\n    },\r\n    methods: {\r\n        //跳到详情页\r\n        jump(val) {\r\n            // this.$router.push({path:'/order-detail',query:{\r\n            //      id:this.list.item.orderId\r\n            // }})\r\n            this.$router.push({\r\n                path: '/order-detail', query: {\r\n                    orderNumber:val\r\n                }\r\n            })\r\n\r\n        },\r\n        //触底事件\r\n        onLoad() {\r\n            // console.log(\"load事件触发了....\");\r\n            getOrderList(this.pageNumber++, this.status).then((data) => {\r\n                if (data.data.list.length == 0) {\r\n                    this.finished = true;\r\n                }\r\n                this.list = this.list.concat(data.data.list);\r\n                this.loading = false;\r\n            });\r\n        },\r\n    },\r\n    watch: {\r\n        index(val) {\r\n            console.log(val);\r\n            // console.log(this.tabs[val].status);\r\n            this.status = this.tabs[val].status;\r\n            // 在发送ajax之前，需要把pageNumber变成1\r\n            this.pageNumber = 1;\r\n            // 把list清空\r\n            this.list = [];\r\n            // 切换新的tab之后，finished要设置成false，因为之前有可能变成了true\r\n            this.finished = false;\r\n            this.onLoad();\r\n        }\r\n    }\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n.van-tabs {\r\n    margin-top: 1rem;\r\n    position: fixed;\r\n    left: 0;\r\n    z-index: 1000;\r\n    width: 100%;\r\n}\r\n\r\n/deep/.van-list {\r\n    padding-top: 2rem;\r\n}\r\n\r\n/deep/.van-tabs__line {\r\n    background-color: #08d9d6;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Order.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Order.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Order.vue?vue&type=template&id=70794a76&scoped=true&\"\nimport script from \"./Order.vue?vue&type=script&lang=js&\"\nexport * from \"./Order.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Order.vue?vue&type=style&index=0&id=70794a76&prod&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"70794a76\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","attrs","on","$event","$router","back","scopedSlots","_u","key","fn","proxy","model","value","index","callback","$$v","expression","_l","tabs","item","text","finished","onLoad","loading","list","orderId","jump","orderNo","_v","_s","createTime","orderStatusString","newBeeMallOrderItemVOS","v","goodsId","staticStyle","goodsCoverImg","goodsName","sellingPrice","totalPrice","staticRenderFns","name","mounted","data","status","pageNumber","created","methods","path","query","orderNumber","getOrderList","watch","console","component"],"sourceRoot":""}